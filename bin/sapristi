#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler/setup'
require 'sapristi'

def run_sapristi args
  options = Sapristi::ArgumentsParser.new.parse args

  sapristi = Sapristi::Sapristi.new
  sapristi.verbose! if options.verbose
  sapristi.dry! if options.dry

  options.file ? sapristi.run(options.file) : sapristi.run
end

if $0 == __FILE__
  
  run_sapristi(ARGV)
end
